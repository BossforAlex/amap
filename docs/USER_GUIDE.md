# 用户指南

## 安装说明

### Android应用安装

1. 下载最新版本的APK文件（从GitHub Releases或GitHub Actions Artifacts获取）
2. 在Android设备上允许安装未知来源的应用
3. 安装APK文件
4. 打开应用并授予必要的权限

### ESP32程序上传

1. 安装Arduino IDE
2. 安装ESP32开发板支持
3. 安装所需库文件：
   - BLEDevice
   - TFT_eSPI
4. 打开`navigation_display.ino`文件
5. 根据硬件连接修改引脚配置
6. 上传程序到ESP32

## 使用步骤

### 第一步：连接ESP32

1. 打开Android应用
2. 点击"连接设备"按钮
3. 应用会自动扫描并连接名为"ESP32_Navigation_Display"的设备
4. 连接成功后状态显示为"已连接"

### 第二步：开启导航监听

1. 确保已安装高德地图应用
2. 打开高德地图并开始导航
3. 返回本应用，导航信息会自动显示

### 第三步：查看导航信息

应用会自动显示以下信息：
- 当前所在道路
- 下一步导航动作（如左转、右转等）
- 距离下一个动作的距离
- 预计剩余时间
- 当前行驶速度

### 第四步：使用数据转换功能

在"数据转换"页面，您可以：
1. 输入状态码（1-20），查看对应的文字说明
2. 输入JSON格式的导航数据，转换为自然语言描述

## 常见问题

### Q: 无法连接ESP32设备
A: 请检查：
- ESP32是否已上电
- 蓝牙是否已开启
- 位置权限是否已授予
- ESP32是否在附近（10米内）

### Q: 导航信息不更新
A: 请检查：
- 高德地图是否正在导航
- 无障碍服务权限是否已开启
- 应用是否被杀死后台运行

### Q: 数据转换功能无响应
A: 请检查：
- 输入的状态码是否为1-20的数字
- JSON格式是否正确
- 网络连接是否正常

### Q: ESP32屏幕不显示
A: 请检查：
- TFT屏幕连接是否正确
- 引脚配置是否匹配
- 屏幕驱动是否支持

## 高级功能

### 缓存管理

应用会自动缓存最近的导航数据，您可以：
1. 点击"缓存管理"按钮查看缓存数据
2. 清除不需要的缓存
3. 导出缓存数据到剪贴板

### 数据复制

点击"复制信息"按钮，可以将当前导航数据以JSON格式复制到剪贴板，方便分享或分析。

### 自定义状态码

在数据转换页面，您可以查看所有支持的状态码及其含义：
- 1-9：基本导航状态
- 10-20：特殊路段状态

## 技术支持

如遇到问题，请：
1. 查看应用内的提示信息
2. 检查GitHub Issues是否已有解决方案
3. 提交新的Issue描述问题

## 更新说明

应用会自动检查更新，您也可以手动检查：
1. 进入设置页面
2. 点击"检查更新"
3. 按提示下载安装新版本